<html><head><title>JS syntax: Return | Dave Woodall</title><meta charset=utf-8 /><link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css" rel=stylesheet /><script src="../../scripts/lib/lodash.min.js"></script><script src="../../scripts/lib/jquery.min.js"></script><script src="../../scripts/lib/modernizer.js"></script><script src="../../scripts/script.js"></script><meta content="initial-scale=1.0" name=viewport /><meta content="JS syntax: Return" property="og:title"/><meta content="Dave Woodall" property="og:site_name"/><meta content="http://wwwoodall.com" property="og:url"/><meta content=summary_large_image name="twitter:card"/><meta content="@wwwoodall" name="twitter:site"/><meta content="@wwwoodall" name="twitter:creator"/><meta content="" property="og:description"/><meta content="Stop getting undefined" name="twitter:description"/></head><link href="../../stylesheets/application.css" media=screen rel=stylesheet /><body><div class=l-header><nav class=left-nav><div class=bio-pic><img src="../../images/dave_woodall.jpg"/></div><p><a href="/about-dave">Dave Woodall</a></p><div class=bio>Christian, Husband, Dad, Developer, Designer, Drawer, Inventor, INTJ, Reader, Writer, French press Snowboard then beers.</div><div class=location>Boulder, CO</div><ul><li><a href="/"><div class="fa fa-home"></div></a></li><li><a class="" href="/feed/">feed</a></li><li><a class="" href="/jots/">jots</a></li><li><a class="" href="/gifs/">gifs</a></li><li><a class="" href="/pictures/">pictures</a></li><li><a class="" href="/watching/">watching</a></li><li><a class=" active" href="/blog/">blog</a></li><li><a class="" href="/questions/">questions</a></li><li><a class="" href="/notes/">notes</a></li><li><a class="" href="/reading/">reading</a></li><li><a class="" href="/links/">links</a></li><li><a class="" href="/grammar/">grammar</a></li><li><a class="" href="/tld-color-and-emoji-guide/">TLD colors</a></li></ul></nav></div><div class=l-container><article class=type-system-traditional><p class=type><a href="/blog">all posts</a> >> <a href="/learning-to-code">Learning to Code</a></p><h1>JS syntax: Return</h1><p class=date>Aug 27, 2014</p><p>My first programming language was Ruby. Managing a return value wasn't something I had to do. This is an example of my Ruby-inspired functions</p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">()</span> <span class="p">{</span>
  <span class="s1">'checked'</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">check_box</span><span class="p">();</span>
<span class="o">=&gt;</span> <span class="kc">undefined</span>
</code></pre> <p>JavaScript doesn't consider <code>undefined</code> as an error. So, I was left scratching my head. </p> <p>With JavaScript you need to do explicitly request what you want returned with the keyword <code>return</code></p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'checked'</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">check_box</span><span class="p">();</span>
<span class="o">=&gt;</span> <span class="nx">checked</span>
</code></pre> <h5 id=return>Return</h5> <p>Return is not only required for providing content, it's helpful to know that it will terminate the function and spit out as soon as it fires. </p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="k">return</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="k">return</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">return</span> <span class="s2">"Never reached."</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"This is true."</span><span class="p">.</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"Less is more."</span>
</code></pre> <h5 id=conditional-shorthand>Conditional shorthand</h5> <p>Getting comfortable with the shorthand conditional syntax. If you put the conditional on one line, the <code>{}</code> are not needed. Even when having multiple conditionals. </p> <h4 id=using-a-var>Using a var</h4> <p>Maybe you don't want <code>return</code> to interrupt the sequence of the function. You could assign a value to a variable and return the variable at the end.</p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">entry</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">entry</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"This is true."</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"Less is more."</span>
</code></pre> <h5 id=possible-gotcha>Possible gotcha</h5> <p>If you are using the variable approach. Be careful to notice if there are any return values <em>before</em> returning a variable. As mentioned, <code>return</code> will exit the program immediately.</p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">entry</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">return</span> <span class="s2">"I am not what you expect."</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">entry</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"I am not what you expect."</span>
</code></pre> <h5 id=when-return-doesnt-return>When Return doesn't return</h5> <p>A return is not called on a false conditional.</p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">entry</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">return</span> <span class="s2">"Why can't we return to shallow topics?"</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">entry</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"This is true."</span>
</code></pre> <p>This makes logical sense, but it's good to note the syntax. I wasn't paying attention and thought that my return in the following <code>else</code> clause would have been the functions return value. It's because the previous was checking boolean and the if/elseif/else was met at a higher level, so the conditional never hit the else. The else had a return, but it wasn't called.</p> <p>The return is only returned when it's called. Not just because it's in the code.</p> <h5 id=another-type-of-undefined>Another type of undefined</h5> <p>I also noticed that a return in the else can prevent a possible, undesired 'undefined'.</p> <pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">origins</span><span class="p">(</span><span class="nx">entry_system</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_entrys</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"created"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Intelligent Design."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"chance"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Evolution."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">return</span> <span class="s2">"Open for discussion."</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">_entrys</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">origins</span><span class="p">(</span><span class="s2">"confused"</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"Open for discussion."</span>

<span class="kd">function</span> <span class="nx">origins</span><span class="p">(</span><span class="nx">entry_system</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_entrys</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"created"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Intelligent Design."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"chance"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Evolution."</span><span class="p">;</span>
  <span class="k">else</span> <span class="s2">"Open for discussion."</span><span class="p">;</span> <span class="c1">// removed the explicit return</span>
  <span class="k">return</span> <span class="nx">_entrys</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">origins</span><span class="p">(</span><span class="s2">"confused"</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="kc">undefined</span>
</code></pre> <p>If you don't put a <code>return</code>, then the return of <code>_entrys</code> is <code>undefined</code>.</p> <h4 id=return-values-are-needed-for-chaining>return values are needed for chaining</h4> <p>Make an array</p> <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">=&gt;</span> <span class="p">[]</span>
</code></pre> <p>And a function that returns the array</p> <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="nx">a</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="kd">function</span> <span class="p">(){</span> <span class="k">return</span> <span class="nx">a</span> <span class="p">}</span>
</code></pre> <p>Invoking the function will return an array</p> <pre class="highlight javascript"><code><span class="nx">b</span><span class="p">()</span>
<span class="o">=&gt;</span> <span class="p">[]</span>
</code></pre> <p>Since an Array is the return value of that function, I can chain Array methods to the function</p> <pre class="highlight javascript"><code><span class="nx">b</span><span class="p">().</span><span class="nx">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="mi">1</span>
</code></pre> <p>More so, that method actually influenced the <code>a</code> array;</p> <pre class="highlight javascript"><code><span class="nx">a</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre> <hr/><div class=intro-text><h2>More from</h2><h3>Learning to Code</h3></div><h2><a href="/blog/mockup-and-models/">Mockup and models</a></h2><p><p>This is the second post about my learning project; an app for ideas. <a href="/blog/idea-for-ideas">Read the backstory</a>.</p> <p>Below is mockups for the Idea page. It will be an overview of the idea and the latest contributions.</p> <p><img alt="" src="../images/blog/q_1.png"></p> <p>My experience at LivingSocial helped me see how to break...</p></p><h2><a href="/blog/idea-for-ideas/">An idea for ideas</a></h2><p><p>I am regularly looking for building projects to develop my coding skills. I've shipped a few apps that I'm proud of including <a href="//www.destroyalltasks.com/">Destroy All Tasks</a> and <a href="//www.afterburners.mx">Afterburners</a>. I confess they are both in near abandon-ware but they had actual users at one time!</p> </p><h2><a href="/blog/working-with-presenters/">Working with Presenters</a></h2><p><p>When you find yourself in the situation that your view needs content from several places then consider a Presenter instead of polluting your view or controller.</p> <p><img alt="" src="../images/blog/presenters.png"></p> <h2 id=specifics-to-rails>Specifics to Rails</h2> <h2 id=the-delegate-method>The delegate method</h2> <p>In Rails, in order to access your model's attributes...</p></p></article></div></body><footer class=footer><div class=footer-links><ul><li><h3 class="fa fa-wrench"> Work</h3></li><li>Coming soon..</li></ul><ul><li><h3 class="fa fa-flask"> Play</h3></li><ul><li><a href="/"><div class="fa fa-home"></div></a></li><li><a class="" href="/feed/">feed</a></li><li><a class="" href="/jots/">jots</a></li><li><a class="" href="/gifs/">gifs</a></li><li><a class="" href="/pictures/">pictures</a></li><li><a class="" href="/watching/">watching</a></li><li><a class=" active" href="/blog/">blog</a></li><li><a class="" href="/questions/">questions</a></li><li><a class="" href="/notes/">notes</a></li><li><a class="" href="/reading/">reading</a></li><li><a class="" href="/links/">links</a></li><li><a class="" href="/grammar/">grammar</a></li><li><a class="" href="/tld-color-and-emoji-guide/">TLD colors</a></li></ul></ul><ul><li><h3 class="fa fa-phone"> Contact</h3></li><li><a class="fa fa-envelope-o" href="mailto:dave@woodalls.me"> email</a></li><li><a target=_blank href="//www.github.com/woodall"><div class="fa fa-github"></div> <span>github</span></a></li><li><a target=_blank href="//www.dribbble.com/wwwoodall"><div class="fa fa-dribbble"></div> <span>dribbble</span></a></li><li><a target=_blank href="//www.twitter.com/wwwoodall"><div class="fa fa-twitter"></div> <span>twitter</span></a></li><li><a target=_blank href="//www.linkedIn.com/in/davewoodall"><div class="fa fa-linkedin"></div> <span>linkedIn</span></a></li></ul></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52536027-1', 'auto');
ga('send', 'pageview');</script></html>