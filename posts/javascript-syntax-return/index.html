<html><head><title>JS syntax: Return | Dave Woodall</title><meta charset="utf-8" /><link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" /><script src="../../scripts/lib/jquery.min-7e1c143b.js" type="text/javascript"></script><script src="../../scripts/lib/modernizer-b2be4ef8.js" type="text/javascript"></script><script src="../../scripts/nav_overlay-747321c6.js" type="text/javascript"></script><script src="../../scripts/script-92d99b05.js" type="text/javascript"></script><meta content="initial-scale=1.0" name="viewport" /><meta content="JS syntax: Return" property="og:title" /><meta content="Dave Woodall" property="og:site_name" /><meta content="http://wwwoodall.com" property="og:url" /><meta content="http://wwwoodall.com/images/heros/canoe.jpg" property="og:image" /><meta content="summary" name="twitter:card" /><meta content="@wwwoodall" name="twitter:site" /><meta content="@wwwoodall" name="twitter:creator" /><meta content="" property="og:description" /></head><link href="../../stylesheets/application-17f070e2.css" media="screen" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Radley:400,400italic" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic" rel="stylesheet" type="text/css" /><body><div class="l-header"><nav class="left-nav"><div class="pic"><img src="../../images/dave_woodall-4a4784bb.jpg" /></div><p>Dave Woodall</p><ul><li><a class="" href="/">/new</a></li><li><a class="" href="/gifs/">/gifs</a></li><li><a class="" href="/jots/">/jots</a></li><li><a class="" href="/posts/">/posts</a></li><li><a class="" href="/shortcuts/">/shortcuts</a></li><li><a class="" href="/notes/">/notes</a></li><li><a class="" href="/links/">/links</a></li></ul><div class="mailchimp"><!--Begin MailChimp Signup Form--><link href="//cdn-images.mailchimp.com/embedcode/classic-081711.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;
/!* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"><form action="//lettucebooks.us8.list-manage.com/subscribe/post?u=42150f382a237947f46c88221&amp;id=49f1ff76a7" class="validate" id="mc-embedded-subscribe-form" method="post" name="mc-embedded-subscribe-form" novalidate="" target="_blank"><div id="mc_embed_signup_scroll"><div class="mc-field-group"><label for="mce-EMAIL">Stay updated!</label><input class="required email" id="mce-EMAIL" name="EMAIL" type="email" value="email address" /></div><div class="clear" id="mce-responses"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><!--real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;"><input name="b_42150f382a237947f46c88221_49f1ff76a7" tabindex="-1" type="text" value="" /></div><div class="clear"><input class="button" id="mc-embedded-subscribe" name="subscribe" type="submit" value="Subscribe" /></div></div></form></div><script src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js" type="text/javascript"></script><script type="text/javascript">| (function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);  / End mc_embed_signup</script></link></div></nav></div><div class="l-container"><article class="type-system-traditional"><p class="type">javascript</p><h1>JS syntax: Return</h1><img src="../../images/heros/canoe-057fe081.jpg" /><cite></cite><h2>Stop getting undefined</h2><p class="date">Aug 27, 2014</p><p>My first programming language was Ruby. Managing a return value wasn't something I had to do. This is an example of my Ruby-inspired functions</p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">()</span> <span class="p">{</span>
  <span class="s1">'checked'</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">check_box</span><span class="p">();</span>
<span class="o">=&gt;</span> <span class="kc">undefined</span>
</code></pre>

<p>JavaScript doesn't consider <code>undefined</code> as an error. So, I was left scratching my head. </p>

<p>With JavaScript you need to do explicitly request what you want returned with the keyword <code>return</code></p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'checked'</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">check_box</span><span class="p">();</span>
<span class="o">=&gt;</span> <span class="nx">checked</span>
</code></pre>

<h5 id="return">Return</h5>
<p>Return is not only required for providing content, it's helpful to know that it will terminate the function and spit out as soon as it fires. </p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="k">return</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="k">return</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">return</span> <span class="s2">"Never reached."</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"This is true."</span><span class="p">.</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"Less is more."</span>
</code></pre>

<h5 id="conditional-shorthand">Conditional shorthand</h5>

<p>Getting comfortable with the shorthand conditional syntax. If you put the conditional on one line, the <code>{}</code> are not needed. 
Even when having multiple conditionals. </p>

<h4 id="using-a-var">Using a var</h4>
<p>Maybe you don't want <code>return</code> to interrupt the sequence of the function. You could assign a value to a variable and return the variable at the end.</p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">entry</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">entry</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"This is true."</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"Less is more."</span>
</code></pre>

<h5 id="possible-gotcha">Possible gotcha</h5>

<p>If you are using the variable approach. Be careful to notice if there are any return values <em>before</em> returning a variable. As mentioned, <code>return</code> will exit the program immediately.</p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">entry</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">return</span> <span class="s2">"I am not what you expect."</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">entry</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"I am not what you expect."</span>
</code></pre>

<h5 id="when-return-doesnt-return">When Return doesn't return</h5>

<p>A return is not called on a false conditional.</p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">check_box</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">entry</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"This is true."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answer</span><span class="p">)</span> <span class="nx">entry</span> <span class="o">=</span> <span class="s2">"Less is more."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">return</span> <span class="s2">"Why can't we return to shallow topics?"</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">entry</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">check_box</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"This is true."</span>
</code></pre>

<p>This makes logical sense, but it's good to note the syntax. I wasn't paying attention and thought that my return in the following <code>else</code> clause would have been the functions return value. It's because the previous was checking boolean and the if/elseif/else was met at a higher level, so the conditional never hit the else. The else had a return, but it wasn't called.</p>

<p>The return is only returned when it's called. Not just because it's in the code.</p>

<h5 id="another-type-of-undefined">Another type of undefined</h5>

<p>I also noticed that a return in the else can prevent a possible, undesired 'undefined'.</p>

<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">origins</span><span class="p">(</span><span class="nx">entry_system</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_entrys</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"created"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Intelligent Design."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"chance"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Evolution."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">return</span> <span class="s2">"Open for discussion."</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">_entrys</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">origins</span><span class="p">(</span><span class="s2">"confused"</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="s2">"Open for discussion."</span>

<span class="kd">function</span> <span class="nx">origins</span><span class="p">(</span><span class="nx">entry_system</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_entrys</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"created"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Intelligent Design."</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">entry_system</span> <span class="o">==</span> <span class="s2">"chance"</span><span class="p">)</span> <span class="nx">_entrys</span> <span class="o">=</span> <span class="s2">"Evolution."</span><span class="p">;</span>
  <span class="k">else</span> <span class="s2">"Open for discussion."</span><span class="p">;</span> <span class="c1">// removed the explicit return</span>
  <span class="k">return</span> <span class="nx">_entrys</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">origins</span><span class="p">(</span><span class="s2">"confused"</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="kc">undefined</span>
</code></pre>
<p>If you don't put a <code>return</code>, then the return of <code>_entrys</code> is <code>undefined</code>.</p>

<h4 id="return-values-are-needed-for-chaining">return values are needed for chaining</h4>

<p>Make an array</p>

<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">=&gt;</span> <span class="p">[]</span>
</code></pre>

<p>And a function that returns the array</p>

<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="nx">a</span> <span class="p">}</span>
<span class="o">=&gt;</span> <span class="kd">function</span> <span class="p">(){</span> <span class="k">return</span> <span class="nx">a</span> <span class="p">}</span>
</code></pre>

<p>Invoking the function will return an array</p>

<pre class="highlight javascript"><code><span class="nx">b</span><span class="p">()</span>
<span class="o">=&gt;</span> <span class="p">[]</span>
</code></pre>

<p>Since an Array is the return value of that function, I can chain Array methods to the function</p>

<pre class="highlight javascript"><code><span class="nx">b</span><span class="p">().</span><span class="nx">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="mi">1</span>
</code></pre>

<p>More so, that method actually influenced the <code>a</code> array;</p>

<pre class="highlight javascript"><code><span class="nx">a</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre>
</article></div></body><footer class="footer"><div class="footer-logo"></div><div class="footer-links"><ul><li><h3>Dave Woodall</h3></li><li><a href="/posts/about">about</a></li></ul><ul><li><h3>Pages</h3></li><li><a class="" href="/">new</a></li><li><a class="" href="/gifs/">gifs</a></li><li><a class="" href="/jots/">jots</a></li><li><a class="" href="/posts/">posts</a></li><li><a class="" href="/shortcuts/">shortcuts</a></li><li><a class="" href="/notes/">notes</a></li><li><a class="" href="/links/">links</a></li></ul><ul><li><h3>Social</h3></li><li><a target="_blank" href="http://www.github.com/woodall"><div class="fa fa-github"></div> <span>github</span></a></li><li><a target="_blank" href="http://www.dribbble.com/wwwoodall"><div class="fa fa-dribbble"></div> <span>dribbble</span></a></li><li><a target="_blank" href="http://www.twitter.com/wwwoodall"><div class="fa fa-twitter"></div> <span>twitter</span></a></li></ul></div><hr /><p>Designed & Built by Dave using <a target="_blank" href="http://www.middlemanapp.com">middleman</a> & thoughtbot <a target="_blank" href="http://thoughtbot.com/open-source">front-end</a>. </p></footer><script src="../scripts/nav_overlay-747321c6.js"></script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52536027-1', 'auto');
ga('send', 'pageview');</script></html>